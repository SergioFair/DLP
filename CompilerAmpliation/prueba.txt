#source "big-input.txt"
#type pair: {
	integer:int
	character:byte
}
#var acme:2*	employees:2*	age:int


#var fibonacci:8*3*int
call main
halt
#func p
p:
enter 0
ret 0,0,0


#func f
f:
enter 7

#local real:float


#local c:byte


#local result:int


' * assignment
pusha bp
pushi -4
addi
pusha bp
pushi 6
addi
loadf
pushf 10.0
mulf
storef


' * assignment
pusha bp
pushi -5
addi
pushb 48
storeb


' * if
pusha bp
pushi 4
addi
loadi
pushi 256
lti
jz label1

#line 23
' * assignment
pusha bp
pushi -5
addi
pusha bp
pushi 4
addi
loadi
i2b
storeb


#line 24
' * assignment
pusha bp
pushi -7
addi
pusha bp
pushi -5
addi
loadb
b2i
storei

jmp label2
label1:
' * else

#line 27
' * assignment
pusha bp
pushi -7
addi
pusha bp
pushi -4
addi
loadf
f2i
storei

label2:




#line 28
pusha bp
pushi -7
addi
loadi
ret 2,7,6




#func initialize
initialize:
enter 2

#local i:int


' * assignment
pusha 11
pushi 0
pushi 6
muli
addi
pushi 0
pushi 2
muli
addi
pushi 0
storei


' * assignment
pusha 11
pushi 0
pushi 6
muli
addi
pushi 1
pushi 2
muli
addi
pushi 1
storei


' * assignment
pusha 11
pushi 0
pushi 6
muli
addi
pushi 2
pushi 2
muli
addi
pushi 1
storei


' * assignment
pusha bp
pushi -2
addi
pushi 1
storei


' * while
label3:
pusha bp
pushi -2
addi
loadi
pushi 8
lti
jz label4
' * assignment
pusha 11
pusha bp
pushi -2
addi
loadi
pushi 6
muli
addi
pushi 0
pushi 2
muli
addi
pusha 11
pusha bp
pushi -2
addi
loadi
pushi 1
subi
pushi 6
muli
addi
pushi 1
pushi 2
muli
addi
loadi
storei

' * assignment
pusha 11
pusha bp
pushi -2
addi
loadi
pushi 6
muli
addi
pushi 1
pushi 2
muli
addi
pusha 11
pusha bp
pushi -2
addi
loadi
pushi 1
subi
pushi 6
muli
addi
pushi 2
pushi 2
muli
addi
loadi
storei

' * assignment
pusha 11
pusha bp
pushi -2
addi
loadi
pushi 6
muli
addi
pushi 2
pushi 2
muli
addi
pusha 11
pusha bp
pushi -2
addi
loadi
pushi 6
muli
addi
pushi 0
pushi 2
muli
addi
loadi
pusha 11
pusha bp
pushi -2
addi
loadi
pushi 6
muli
addi
pushi 1
pushi 2
muli
addi
loadi
addi
storei

' * assignment
pusha bp
pushi -2
addi
pusha bp
pushi -2
addi
loadi
pushi 1
addi
storei

jmp label3
label4:

ret 0,2,0


#func main
main:
enter 4

#local i:int


#local j:int


' * invocation

#line 49
call p


' * assignment
pusha bp
pushi -2
addi
pushi 0
storei


' * assignment
pusha 0
pushi 2
addi
pushb 48
storeb


' * assignment
pusha 0
pushi 0
addi
pushb 48
b2i
storei


' * Write
pusha bp
pushi -2
addi
loadi
i2f
pusha 0
pushi 2
addi
loadb
b2i
call f
outi
pushb 10
outb



' * invocation

#line 56
pushf 1.3
pushi 2
call f
popi


' * invocation

#line 58
call initialize


' * assignment
pusha bp
pushi -2
addi
pushi 0
storei


' * while
label5:
pusha bp
pushi -2
addi
loadi
pushi 8
lti
jz label6
' * Write
pushb 40
outb
pusha bp
pushi -2
addi
loadi
pushi 1
addi
outi
pushb 41
outb
pusha 11
pusha bp
pushi -2
addi
loadi
pushi 6
muli
addi
pushi 0
pushi 2
muli
addi
loadi
outi
pushb 43
outb
pusha 11
pusha bp
pushi -2
addi
loadi
pushi 6
muli
addi
pushi 1
pushi 2
muli
addi
loadi
outi
pushb 61
outb
pusha 11
pusha bp
pushi -2
addi
loadi
pushi 6
muli
addi
pushi 2
pushi 2
muli
addi
loadi
outi
pushb 10
outb


' * assignment
pusha bp
pushi -2
addi
pusha bp
pushi -2
addi
loadi
pushi 1
addi
storei

jmp label5
label6:


' * assignment
pusha 3
pushi 1
pushi 4
muli
addi
pushi 0
addi
pushi 1
pushi 2
muli
addi
pushi 0
addi
pushi 56
storei


' * Write
pusha 3
pushi 1
pushi 4
muli
addi
pushi 0
addi
pushi 1
pushi 2
muli
addi
pushi 0
addi
loadi
outi
pushb 10
outb



' * assignment
pusha bp
pushi -2
addi
pushi 0
storei


' * while
label7:
pusha bp
pushi -2
addi
loadi
pushi 2
lti
jz label8
' * assignment
pusha bp
pushi -4
addi
pushi 0
storei

' * while
label9:
pusha bp
pushi -4
addi
loadi
pushi 2
lti
jz label10
' * assignment
pusha 3
pusha bp
pushi -2
addi
loadi
pushi 4
muli
addi
pushi 0
addi
pusha bp
pushi -4
addi
loadi
pushi 2
muli
addi
pushi 0
addi
pusha bp
pushi -2
addi
loadi
pusha bp
pushi -4
addi
loadi
addi
storei

' * assignment
pusha bp
pushi -4
addi
pusha bp
pushi -4
addi
loadi
pushi 1
addi
storei

jmp label9
label10:

' * assignment
pusha bp
pushi -2
addi
pusha bp
pushi -2
addi
loadi
pushi 1
addi
storei

jmp label7
label8:


' * assignment
pusha bp
pushi -2
addi
pushi 0
storei


' * while
label11:
pusha bp
pushi -2
addi
loadi
pushi 2
lti
jz label12
' * assignment
pusha bp
pushi -4
addi
pushi 0
storei

' * while
label13:
pusha bp
pushi -4
addi
loadi
pushi 2
lti
jz label14
' * Write
pusha 3
pusha bp
pushi -2
addi
loadi
pushi 4
muli
addi
pushi 0
addi
pusha bp
pushi -4
addi
loadi
pushi 2
muli
addi
pushi 0
addi
loadi
outi
pushb 32
outb


' * assignment
pusha bp
pushi -4
addi
pusha bp
pushi -4
addi
loadi
pushi 1
addi
storei

jmp label13
label14:

' * assignment
pusha bp
pushi -2
addi
pusha bp
pushi -2
addi
loadi
pushi 1
addi
storei

jmp label11
label12:

ret 0,4,0


